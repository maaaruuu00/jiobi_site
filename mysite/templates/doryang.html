{% extends "base.html" %}

{% block title %}도량형 변환기{% endblock %}

{% block css %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/doryang.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <h1>길이 변환</h1>
    <div class="form-group">
        <input type="text" id="inputValue" value="0">
        <select id="unit">
            <option value="cm">센티미터(cm)</option>
            <option value="m">미터(m)</option>
            <option value="inch">인치(inch)</option>
            <option value="feet">피트(feet)</option>
            <option value="yard">야드(yard)</option>
            <option value="mile">마일(mile)</option>
            <option value="ja">자</option>
            <option value="gan">간</option>
            <option value="jeng">정</option>
            <option value="li">리</option>
            <option value="knot">해리(海理)</option>
        </select>
        <button onclick="convertLength()">변환</button>
    </div>
    <div class="result-table">
        <table>
            <tr>
                <td><label for="cm">센티미터</label></td>
                <td><input type="text" id="cm" readonly></td>
                <td><label for="m">미터</label></td>
                <td><input type="text" id="m" readonly></td>
            </tr>
            <tr>
                <td><label for="inch">인치</label></td>
                <td><input type="text" id="inch" readonly></td>
                <td><label for="feet">피트</label></td>
                <td><input type="text" id="feet" readonly></td>
            </tr>
            <tr>
                <td><label for="yard">야드</label></td>
                <td><input type="text" id="yard" readonly></td>
                <td><label for="mile">마일</label></td>
                <td><input type="text" id="mile" readonly></td>
            </tr>
            <tr>
                <td><label for="ja">자</label></td>
                <td><input type="text" id="ja" readonly></td>
                <td><label for="gan">간</label></td>
                <td><input type="text" id="gan" readonly></td>
            </tr>
            <tr>
                <td><label for="jeng">정</label></td>
                <td><input type="text" id="jeng" readonly></td>
                <td><label for="li">리</label></td>
                <td><input type="text" id="li" readonly></td>
            </tr>
            <tr>
                <td><label for="knot">해리(海理)</label></td>
                <td><input type="text" id="knot" readonly></td>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
</div>
{% endblock %}

{% block javascript %}
<script>
document.addEventListener("DOMContentLoaded", function() {
    console.log("convertLength is loaded");

    function convertLength() {
        const inputValue = parseFloat(document.getElementById('inputValue').value);
        const unit = document.getElementById('unit').value;
        console.log("convertLength function has been defined");

        const conversionRates = {
            cm: 1,
            m: 0.01,
            inch: 0.393701,
            feet: 0.0328084,
            yard: 0.0109361,
            mile: 0.0000062137,
            ja: 0.033,
            gan: 0.0055,
            jeng: 0.000109361,
            li: 0.0000025,
            knot: 0.0000053996
        };

        const cmValue = inputValue / conversionRates[unit];

        document.getElementById('cm').value = (cmValue * conversionRates.cm).toFixed(4);
        document.getElementById('m').value = (cmValue * conversionRates.m).toFixed(4);
        document.getElementById('inch').value = (cmValue * conversionRates.inch).toFixed(4);
        document.getElementById('feet').value = (cmValue * conversionRates.feet).toFixed(4);
        document.getElementById('yard').value = (cmValue * conversionRates.yard).toFixed(4);
        document.getElementById('mile').value = (cmValue * conversionRates.mile).toFixed(4);
        document.getElementById('ja').value = (cmValue * conversionRates.ja).toFixed(4);
        document.getElementById('gan').value = (cmValue * conversionRates.gan).toFixed(4);
        document.getElementById('jeng').value = (cmValue * conversionRates.jeng).toFixed(4);
        document.getElementById('li').value = (cmValue * conversionRates.li).toFixed(4);
        document.getElementById('knot').value = (cmValue * conversionRates.knot).toFixed(4);
    }
});
</script>
{% endblock %}


