{% extends "base.html" %}

{% block title %}시계{% endblock %}

{% block css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+JrDsL/z5X6N5BEkIzyp3I5BRWb5e5q+o6p2O8lPJUn5XVX2" crossorigin="anonymous">
{% load static %}
<link rel="stylesheet" href="{% static 'css/basetest.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- 탭 버튼 -->
    <ul class="nav nav-tabs justify-content-center" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="clock-tab-tab" data-toggle="tab" href="#clock-tab" role="tab" aria-controls="clock-tab" aria-selected="true">시계</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="alarm-tab-tab" data-toggle="tab" href="#alarm-tab" role="tab" aria-controls="alarm-tab" aria-selected="false">알람</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="stopwatch-tab-tab" data-toggle="tab" href="#stopwatch-tab" role="tab" aria-controls="stopwatch-tab" aria-selected="false">스톱워치</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="timer-tab-tab" data-toggle="tab" href="#timer-tab" role="tab" aria-controls="timer-tab" aria-selected="false">타이머</a>
        </li>
    </ul>

    <div class="tab-content mt-4" id="myTabContent">
        <div class="tab-pane fade show active" id="clock-tab" role="tabpanel" aria-labelledby="clock-tab-tab">
            <!-- 시계 내용 -->
            <div class="card text-center">
                <div class="card-body">
                    <div id="clock" class="display-3"></div>
                    <button id="toggleClockFormat" class="btn btn-primary mt-3">형식 변환</button>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="alarm-tab" role="tabpanel" aria-labelledby="alarm-tab-tab">
            <!-- 알람 내용 -->
            <div class="card text-center">
                <div class="card-body">
                    <div id="alarmsContainer"></div>
                    <button id="addAlarmButton" class="btn btn-primary">새 알람 추가</button>
                </div>
            </div>
            <script src="{% static 'JS/alarms.js' %}"></script>
        </div>

        <div class="tab-pane fade" id="stopwatch-tab" role="tabpanel" aria-labelledby="stopwatch-tab-tab">
            <!-- 스톱워치 내용 -->
            <div class="card text-center">
                <div class="card-body">
                    <div id="stopwatch" class="display-1">00:00:00</div>
                    <div id="milliseconds" class="display-4">.000</div>
                    <div class="mt-4">
                        <button id="startStopButton" class="btn btn-primary">시작</button>
                        <button id="lapButton" class="btn btn-info">랩</button>
                        <button id="resetButton" class="btn btn-danger">리셋</button>
                    </div>
                    <ul id="lapList" class="list-group mt-4"></ul>
                </div>
            </div>
            <script src="{% static 'JS/clock.js' %}"></script>
        </div>

        <div class="tab-pane fade" id="timer-tab" role="tabpanel" aria-labelledby="timer-tab-tab">
            <!-- 타이머 내용 -->
            <div class="card text-center">
                <div class="card-body">
                    <button id="addTimerButton" class="btn btn-primary">새 타이머 추가</button>
                    <button id="add5MinButton" class="btn btn-secondary">5분</button>
                    <button id="add10MinButton" class="btn btn-secondary">10분</button>
                    <div id="timers" class="mt-3"></div>
                    <audio id="timerAlarm" src="{% static 'audio/alarm.mp3' %}"></audio>
                    <!-- 모달 구조 예시 -->
                    <div id="myModal" class="modal" style="display:none;">
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <p>타이머 종료!</p>
                        </div>
                    </div>
                </div>
            </div>
            <script src="{% static 'JS/timer.js' %}"></script>
        </div>
    </div>
</div>

<!-- 알람을 위한 audio 요소 추가 -->
<audio id="alarmSound" src="{% static 'audio/alarm.mp3' %}"></audio>

{% endblock %}
